<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:jsflot="http://www.jsflot.org/taglib/jsflot">

	<a4j:outputPanel id="selectedGroupOutput">
		<h:outputText id="selectedGroupText"
			value="Selected group: #{userMBean.selectedPath}"></h:outputText><br />
		<rich:spacer height="5"></rich:spacer>
		
		<h:panelGrid columns="2" style="border: 1px dashed #999;" columnClasses="alignTop">
			<h:graphicImage value="/images/Information_32x32.png"></h:graphicImage>
			<h:outputText>
				All available leaf nodes are listed in the pick list to the left. To create a Group Instrumentation move the required
				nodes from the left to the right list either by double clicking on the node or, altenatively, by using the control 
				buttons between the lists. When you are satisfied with the selection in the right list hit the "Save" button to store
				the changes. The Group will be active immediately. 
			</h:outputText>
		</h:panelGrid>
		<rich:spacer height="5"></rich:spacer>
		<rich:pickList
			rendered="#{groupInstrumentationMbean.groupListCount>0}"
			sourceListWidth="300" targetListWidth="300"  
			value="#{groupInstrumentationMbean.selectedGroupList}">
			<f:selectItems value="#{groupInstrumentationMbean.groupList}" />
			<a4j:support ajaxSingle="true" event="onlistchanged"
				reRender="result" />
		</rich:pickList>
		
		<a4j:commandButton ajaxSingle="true" actionListener="#{groupInstrumentationMbean.persistGroupInstrumentation}" 
			value="Save Group Instrumentation" reRender="groupInstrumentationPanel"/>
	</a4j:outputPanel>
</ui:composition>