EurekaJView=SC.Application.create({NAMESPACE:"EurekaJView",VERSION:"0.1.0",EurekaJStore:SC.Store.create({commitRecordsAutomatically:NO}).from("EurekaJView.EurekaJDataSource")});if(typeof CHANCE_SLICES==="undefined"){var CHANCE_SLICES=[]}CHANCE_SLICES=CHANCE_SLICES.concat([]);EurekaJView.administrationPaneController=SC.ObjectController.create({alertTypes:[{typeName:"Greater Than",alertType:"greater_than"},{typeName:"Equals",alertType:"equals"},{typeName:"Less Than",alertType:"less_than"}]});EurekaJView.alertAdministrationController=SC.ArrayController.create({newAlertName:null,showEditAlertView:NO,allowsMultipleSelection:NO,observesSelection:function(){if(this.getPath("selection.firstObject.alertName")!=undefined){this.set("showEditAlertView",YES);EurekaJView.alertChartController.populate()}else{this.set("showEditAlertView",NO)}}.observes("selection"),newAlertIsValid:function(){var b=(this.get("newAlertName")&&this.get("newAlertName").length>=1);var a=true;this.get("content").forEach(function(c){if(c.get("alertName")==this.get("newAlertName")){a=false}},this);return a&&b},alertPaneDidDismiss:function(b,a){switch(a){case SC.BUTTON1_STATUS:EurekaJView.deleteSelectedAlertApprovedAction();break;case SC.BUTTON2_STATUS:break}}});EurekaJView.alertChartController=SC.TreeController.create({allowsMultipleSelection:NO,populate:function(){var a=SC.Object.create({treeItemIsExpanded:YES,name:"Instrumentations",treeItemChildren:function(){var b=SC.Query.local(EurekaJView.AdminstrationTreeModel,"parentPath = {parentPath}",{parentPath:null});return EurekaJView.EurekaJStore.find(b)}.property()});this.set("content",a)}});EurekaJView.alertNotificationController=SC.ArrayController.create({allowsMultipleSelection:YES});EurekaJView.alertSelectionDelegate=SC.Object.create(SC.CollectionViewDelegate,{collectionViewShouldSelectIndexes:function(i,f,g){var b=f.firstObject();var a=i.get("content").objectAt(b);SC.Logger.log("EurekaJView.alertSelectionDelegate collectionViewShouldSelectIndexes selectedItem: "+a);if(a.instanceOf(EurekaJView.AlertModel)){this.closeOpenTreeNodes(i);SC.Logger.log("Selected item is Alert Model!!");var c=a.get("alertInstrumentationNode");SC.Logger.log("alertInstrumentationNode for select: "+c);var d=SC.SelectionSet.create();d.addObject(c);d.forEach(function(j){this.markNodeAndParentsAsExpanded(j,YES)},this);EurekaJView.alertChartController.set("selection",d);var h=a.get("alertNotifications");SC.Logger.log("emailNotificationsForSelect: "+h);var e=SC.SelectionSet.create();e.addObjects(h);EurekaJView.alertNotificationController.set("selection",e)}if(a.instanceOf(EurekaJView.AdminstrationTreeModel)){this.setSelectedChartNodes(i,f)}if(a.instanceOf(EurekaJView.EmailGroupModel)){this.setSelectedEmailNotifications(i,f)}return f},setSelectedChartNodes:function(a,b){b.forEach(function(d){SC.Logger.log("setSelectedChartNodes indexes o: "+0);var c=a.get("content").objectAt(d);SC.Logger.log("setSelectedChartNodes selectedItem: "+c);if(c.instanceOf(EurekaJView.AdminstrationTreeModel)){SC.Logger.log("Seting alertInstrumentationNode");EurekaJView.editAlertController.set("alertInstrumentationNode",c)}},this)},setSelectedEmailNotifications:function(a,b){var c=[];b.forEach(function(e){var d=a.get("content").objectAt(e);if(d.instanceOf(EurekaJView.EmailGroupModel)){c.pushObject(d)}},this);EurekaJView.editAlertController.set("alertNotifications",c)},markNodeAndParentsAsExpanded:function(b,a){if(b!=null){parentNode=b.get("parentPath");while(parentNode){parentNode.set("treeItemIsExpanded",a);parentNode=parentNode.get("parentPath")}}},closeOpenTreeNodes:function(a){SC.Logger.log(a.get("content"));SC.Logger.log(a.get("content").get("content"));SC.Logger.log(EurekaJView.alertAdministrationController.get("content"));a.get("content").get("content").forEach(function(b){SC.Logger.log("adminTreeNode: "+b);this.markNodeAndParentsAsExpanded(b.get("alertInstrumentationNode"),NO)},this)}});EurekaJView.chartGridController=SC.ArrayController.create({timer:null,selectedChartTimespan:10,selectedChartResolution:15,selectedChartFrom:SC.DateTime.create(),selectedChartTo:SC.DateTime.create(),selectedChartFromString:null,selectedChartToString:null,dateFormat:"%d/%m/%Y %H:%M",showHistoricalData:NO,nowShowingTab:null,orderBy:"name",selectedTimeZoneOffset:null,selectedTimeZoneOffset:null,timezones:[{timezoneName:"UTC-12",timezoneValue:-12},{timezoneName:"UTC-11",timezoneValue:-11},{timezoneName:"UTC-10",timezoneValue:-10},{timezoneName:"UTC-9",timezoneValue:-9},{timezoneName:"UTC-8",timezoneValue:-8},{timezoneName:"UTC-7",timezoneValue:-7},{timezoneName:"UTC-6",timezoneValue:-6},{timezoneName:"UTC-5",timezoneValue:-5},{timezoneName:"UTC-4",timezoneValue:-4},{timezoneName:"UTC-3",timezoneValue:-3},{timezoneName:"UTC-2",timezoneValue:-2},{timezoneName:"UTC-1",timezoneValue:-1},{timezoneName:"UTC0",timezoneValue:0},{timezoneName:"UTC+1",timezoneValue:1},{timezoneName:"UTC+2",timezoneValue:2},{timezoneName:"UTC+3",timezoneValue:3},{timezoneName:"UTC+4",timezoneValue:4},{timezoneName:"UTC+5",timezoneValue:-5},{timezoneName:"UTC+6",timezoneValue:6},{timezoneName:"UTC+7",timezoneValue:-7},{timezoneName:"UTC+8",timezoneValue:-8},{timezoneName:"UTC+9",timezoneValue:-9},{timezoneName:"UTC+10",timezoneValue:10},{timezoneName:"UTC+11",timezoneValue:11},{timezoneName:"UTC+12",timezoneValue:12}],init:function(){var a=this.get("selectedChartFrom").advance({minute:-10});if(a){this.set("selectedChartFrom",a)}this.generateChartStrings();this.set("selectedTimeZoneOffset",(-1*new Date().getTimezoneOffset()/60))},nowShowingTabChange:function(){SC.Logger.log("TAB CHANGED TO: "+this.get("nowShowingTab"));if(this.get("nowShowingTab")==="EurekaJView.HistoricalStatisticsOptionsView"){this.set("showHistoricalData",YES)}else{if(this.get("nowShowingTab")==="EurekaJView.LiveStatisticsOptionsView"){this.set("showHistoricalData",NO)}}this.refreshData()}.observes("nowShowingTab"),generateChartStrings:function(){this.set("selectedChartFromString",this.generateChartString(this.get("selectedChartFrom")));this.set("selectedChartToString",this.generateChartString(this.get("selectedChartTo")))},selectedChartFromMsProperty:function(){this.get("selectedChartFrom").get("milliseconds")}.property(),selectedChartToMsProperty:function(){this.get("selectedChartTo").get("milliseconds")}.property(),generateChartString:function(b){var a=this.get("dateFormat")||"%m/%d/%Y";var c=b?b.toFormattedString(a):"";return c},refreshDataFromTimer:function(){if(this.get("showHistoricalData")===NO){this.refreshData()}},refreshData:function(){if(this.get("content")){this.get("content").forEach(function(c,b,a){c.refresh();if(c.get("table")){c.get("table").forEach(function(d){d.refresh()},this)}})}},triggerTimer:function(){SC.Logger.log("Triggering timer");if(this.get("timer")){SC.Logger.log("Timer already started")}else{SC.Logger.log("Starting Timer");var a=SC.Timer.schedule({target:EurekaJView.chartGridController,action:"refreshDataFromTimer",interval:15000,repeats:YES});this.set("timer",a)}},observesChartTimespan:function(){if(this.get("showHistoricalData")===NO){this.refreshData()}}.observes("selectedChartTimespan"),observesChartResolution:function(){if(this.get("showHistoricalData")===NO){this.refreshData()}}.observes("selectedChartResolution")});EurekaJView.chartGroupSelectionDelegate=SC.Object.create(SC.CollectionViewDelegate,{collectionViewShouldSelectIndexes:function(a,b,e){SC.Logger.log("EurekaJView.chartGroupSelectionDelegate collectionViewShouldSelectIndexes");var d=b.firstObject();var c=a.get("content").objectAt(d);if(c.instanceOf(EurekaJView.InstrumentationGroupModel)){this.closeOpenTreeNodes(a)}return b},markNodeAndParentsAsExpanded:function(b,a){parentNode=b.get("parentPath");while(parentNode){parentNode.set("treeItemIsExpanded",a);parentNode=parentNode.get("parentPath")}},closeOpenTreeNodes:function(a){a.get("content").forEach(function(b){selectedNodes=b.get("instrumentationGroupPath");selectedNodes.forEach(function(c){SC.Logger.log("Deselecting: "+c.get("guiPath"));this.markNodeAndParentsAsExpanded(c,NO)},this)},this)}});EurekaJView.chartGroupsAdminController=SC.ArrayController.create({newInstrumentationGroupName:null,allowsMultipleSelection:NO,showEditInstrumentationGroupView:NO,observesSelection:function(){if(this.getPath("selection.firstObject.instrumentaionGroupName")!=undefined){this.set("showEditInstrumentationGroupView",YES);EurekaJView.chartGroupChartsTreeController.populate()}else{this.set("showEditInstrumentationGroupView",NO)}}.observes("selection"),newChartGroupIsValid:function(){var b=(this.get("newInstrumentationGroupName")&&this.get("newInstrumentationGroupName").length>=1);var a=true;this.get("content").forEach(function(c){if(c.get("instrumentaionGroupName")==this.get("newInstrumentationGroupName")){a=false}},this);return a&&b},alertPaneDidDismiss:function(b,a){switch(a){case SC.BUTTON1_STATUS:EurekaJView.deleteSelectedChartGroupApprovedAction();break;case SC.BUTTON2_STATUS:break}}});EurekaJView.chartGroupChartsTreeController=SC.TreeController.create({allowsMultipleSelection:YES,populate:function(){var a=SC.Object.create({treeItemIsExpanded:YES,name:"Instrumentations",treeItemChildren:function(){var b=SC.Query.local(EurekaJView.AdminstrationTreeModel,"parentPath = {parentPath}",{parentPath:null});return EurekaJView.EurekaJStore.find(b)}.property()});this.set("content",a)}});EurekaJView.selectedChartGroupChartsController=SC.ArrayController.create({contentBinding:"EurekaJView.selectedChartGroupController.instrumentationGroupPath"});EurekaJView.selectedChartGroupController=SC.ObjectController.create({contentBinding:"EurekaJView.chartGroupsAdminController.selection"});EurekaJView.editAlertController=SC.ObjectController.create({contentBinding:"EurekaJView.alertAdministrationController.selection"});EurekaJView.editEmailGroupController=SC.ObjectController.create({contentBinding:"EurekaJView.emailAdministrationController.selection"});EurekaJView.emailAdministrationController=SC.ArrayController.create({newEmailGroupName:null,showEditAlertView:NO,allowsMultipleSelection:NO,observesSelection:function(){if(this.getPath("selection.firstObject.emailGroupName")!=undefined){this.set("showEditAlertView",YES)}else{this.set("showEditAlertView",NO)}}.observes("selection"),newEmailRecipientIsValid:function(){var b=(this.get("newEmailGroupName")&&this.get("newEmailGroupName").length>=1);var a=true;this.get("content").forEach(function(c){if(c.get("emailGroupName")==this.get("newEmailGroupName")){a=false}},this);return a&&b},alertPaneDidDismiss:function(b,a){switch(a){case SC.BUTTON1_STATUS:EurekaJView.deleteSelectedEmailGroupApprovedAction();break;case SC.BUTTON2_STATUS:break}}});EurekaJView.emailRecipientsController=SC.ArrayController.create({newEmailRecipent:null,contentBinding:"EurekaJView.editEmailGroupController.emailAddresses",newEmailRecipientIsValid:function(){var b=(this.get("newEmailRecipent")&&this.get("newEmailRecipent").length>=5);var a=true;this.get("content").forEach(function(c){if(c.get("emailAddress")==this.get("newEmailRecipent")){a=false}},this);return a&&b}});EurekaJView.InstrumentationTreeController=SC.TreeController.create({timer:null,selectedInstrumentationTypePath:null,treeItemIsGrouped:YES,allowsMultipleSelection:YES,populate:function(){var a=SC.Object.create({treeItemIsExpanded:YES,name:"Instrumentations",treeItemChildren:function(){var b=SC.Query.local(EurekaJView.InstrumentationTreeModel,"parentPath = {parentPath}",{parentPath:null});return EurekaJView.EurekaJStore.find(b)}.property()});this.set("content",a)},observesSelection:function(){if(this.didChangeFor("selectionDidChange","selection")&&this.getPath("selection.firstObject.guiPath")){this.set("selectedInstrumentationTypePath",this.getPath("selection.firstObject.guiPath"));SC.Logger.log("InstrumentationTreeController observesSelection: "+this.getPath("selection.firstObject.guiPath"));SC.Logger.log("Available Chart grids: "+this.getPath("selection").getEach("chartGrid"))}}.observes("selection"),refreshData:function(){SC.Logger.log("Refreshing Instrumentation Menu");EurekaJView.EurekaJStore.find(EurekaJView.INSTRUMENTATION_TREE_QUERY).refresh()},triggerTimer:function(){SC.Logger.log("Triggering timer");if(this.get("timer")){SC.Logger.log("Timer already started")}else{SC.Logger.log("Starting Timer");var a=SC.Timer.schedule({target:EurekaJView.InstrumentationTreeController,action:"refreshData",interval:60000,repeats:YES});this.set("timer",a)}}});EurekaJView.instumentationGroupChartController=SC.TreeController.create({allowsMultipleSelection:YES,populate:function(){var a=SC.Object.create({treeItemIsExpanded:YES,name:"Instrumentations",treeItemChildren:function(){var b=SC.Query.local(EurekaJView.AdminstrationTreeModel,"parentPath = {parentPath}",{parentPath:null});return EurekaJView.EurekaJStore.find(b)}.property()});this.set("content",a)}});EurekaJView.treeMenuSelectionDelegate=SC.Object.create(SC.CollectionViewDelegate,{collectionViewShouldSelectIndexes:function(a,b,c){SC.Logger.log("SELECTING: "+a.get("selection").get("length"));this.showSelectedCharts(a,b);return b},collectionViewShouldDeselectIndexes:function(a,b){SC.Logger.log("DESELECTING: "+a.get("selection").get("length"));if(a.get("selection").get("length")>1){}else{EurekaJView.chartGridController.set("content",SC.SelectionSet.create())}return b},showSelectedCharts:function(a,b){var c=SC.SelectionSet.create();b.forEach(function(f){SC.Logger.log("forEach: "+f);var e=a.get("content").objectAt(f);if(e.instanceOf(EurekaJView.InstrumentationTreeModel)){var d=e.get("chartGrid");if(d){c.addObjects(d)}}},this);EurekaJView.chartGridController.set("content",c)}});EurekaJView.triggeredAlertListController=SC.ArrayController.create({timer:null,refreshData:function(){EurekaJView.EurekaJStore.find(EurekaJView.TRIGGERED_ALERTS_QUERY).refresh()},triggerTimer:function(){SC.Logger.log("Triggering timer");if(this.get("timer")){SC.Logger.log("Timer already started")}else{this.set("content",EurekaJView.EurekaJStore.find(EurekaJView.TRIGGERED_ALERTS_QUERY));SC.Logger.log("Starting Timer");var a=SC.Timer.schedule({target:EurekaJView.triggeredAlertListController,action:"refreshData",interval:15000,repeats:YES});this.set("timer",a)}},observesContent:function(){SC.Logger.log("triggeredAlertListController observesContent: "+this.get("content")+"size: "+this.get("content").toArray().length);this.get("content").forEach(function(a){SC.Logger.log("triggeredAlert: "+a)})}});EurekaJView.userController=SC.ObjectController.create({username:null,userRole:null,isAdmin:function(){SC.Logger.log("userRole: "+this.get("userRole"));if(this.get("userRole")!=null&&this.get("userRole")=="admin"){return YES}else{return NO}}.property().cacheable(),observesUserRole:function(){if(this.get("isAdmin")){EurekaJView.mainPage.get("topView").get("administrationButtonView").set("isVisible",YES);EurekaJView.mainPage.get("topView").get("administrationLabelView").set("isVisible",YES)}}.observes("userRole")});EurekaJView.mixin({showAdministrationPaneAction:function(){EurekaJView.statechart.sendEvent("showAdministrationPaneAction")},hideAdministrationPaneAction:function(){EurekaJView.statechart.sendEvent("hideAdministrationPaneAction")},addNewAlertAction:function(){if(EurekaJView.alertAdministrationController.newAlertIsValid()){newAlert=EurekaJView.EurekaJStore.createRecord(EurekaJView.AlertModel,{alertName:EurekaJView.alertAdministrationController.get("newAlertName")});EurekaJView.alertAdministrationController.set("newAlertName","")}else{SC.AlertPane.warn({message:"Unable to create new Alert",description:"The Alert name must be unique, and contain at least one character.",caption:"Try changing the name of the Alert."})}},deleteSelectedAlertAction:function(){SC.AlertPane.warn({message:"Are you sure you want to delete the selected Alert ?",description:"The alert will be permanently removed from the application. This action cannot be undone!",buttons:[{title:"Delete"},{title:"Cancel"}],delegate:EurekaJView.alertAdministrationController})},deleteSelectedAlertApprovedAction:function(){SC.Logger.log("Deleting selected Alert");selectedAlerts=EurekaJView.alertAdministrationController.selection();if(selectedAlerts){selectedAlerts.forEach(function(a){SC.Logger.log("destroying selected alert");a.destroy();a.commitRecord()},this)}},updateAlertsAction:function(){EurekaJView.alertAdministrationController.set("content",EurekaJView.EurekaJStore.find(EurekaJView.AlertModel));EurekaJView.alertNotificationController.set("content",EurekaJView.EurekaJStore.find(EurekaJView.EmailGroupModel))},saveAlertsAction:function(){EurekaJView.alertAdministrationController.get("content").forEach(function(a){a.commitRecord()},this)},addnewInstrumentationGroupAction:function(){if(EurekaJView.chartGroupsAdminController.newChartGroupIsValid()){EurekaJView.EurekaJStore.createRecord(EurekaJView.InstrumentationGroupModel,{instrumentaionGroupName:EurekaJView.chartGroupsAdminController.get("newInstrumentationGroupName")});EurekaJView.chartGroupsAdminController.set("newInstrumentationGroupName","")}else{SC.AlertPane.warn({message:"Unable to create new Chart Group",description:"The Chart Group name must be unique, and contain at least one character.",caption:"Try changing the name of the Chart Group."})}},deleteSelectedChartGroupAction:function(){SC.AlertPane.warn({message:"Are you sure you want to delete the selected Chart Group ?",description:"The Chart Group will be permanently removed from the application. This action cannot be undone!",buttons:[{title:"Delete"},{title:"Cancel"}],delegate:EurekaJView.chartGroupsAdminController})},deleteSelectedChartGroupApprovedAction:function(){SC.Logger.log("Deleting selected Chart Group");selectedGroups=EurekaJView.chartGroupsAdminController.selection();if(selectedGroups){selectedGroups.forEach(function(a){SC.Logger.log("destroying selected chart group");a.destroy();a.commitRecord()},this)}},updateInstrumentationGroupsAction:function(){EurekaJView.chartGroupsAdminController.set("content",EurekaJView.EurekaJStore.find(EurekaJView.InstrumentationGroupModel))},saveInformationGroupsAction:function(){EurekaJView.chartGroupsAdminController.get("content").forEach(function(a){a.commitRecord()},this)},addNewEmailGroupAction:function(){if(EurekaJView.emailAdministrationController.newEmailRecipientIsValid()){newAlert=EurekaJView.EurekaJStore.createRecord(EurekaJView.EmailGroupModel,{emailGroupName:EurekaJView.emailAdministrationController.get("newEmailGroupName"),emailAddresses:[]});EurekaJView.emailAdministrationController.set("newEmailGroupName","")}else{SC.AlertPane.warn({message:"Unable to create new Email Recipient Group",description:"The Email Recipient Group name must be unique, and contain at least one character.",caption:"Try changing the name of the Email Recipient Group."})}},deleteSelectedEmailGroupAction:function(){SC.AlertPane.warn({message:"Are you sure you want to delete the selected Email Recipient ?",description:"The Email Recipient will be permanently removed from the application. This action cannot be undone!",buttons:[{title:"Delete"},{title:"Cancel"}],delegate:EurekaJView.emailAdministrationController})},deleteSelectedEmailGroupApprovedAction:function(){SC.Logger.log("Deleting selected Email Group");selectedEmailGroups=EurekaJView.emailAdministrationController.selection();if(selectedEmailGroups){selectedEmailGroups.forEach(function(a){SC.Logger.log("destroying selected chart group");a.destroy();a.commitRecord()},this)}},updateEmailGroupsAction:function(){EurekaJView.emailAdministrationController.set("content",EurekaJView.EurekaJStore.find(EurekaJView.EmailGroupModel))},addNewEmailRecipientAction:function(){if(EurekaJView.emailRecipientsController.newEmailRecipientIsValid()){var a=EurekaJView.EurekaJStore.createRecord(EurekaJView.EmailRecipientModel,{emailAddress:EurekaJView.emailRecipientsController.get("newEmailRecipent")});EurekaJView.emailRecipientsController.set("newEmailRecipent","");if(SC.kindOf(EurekaJView.editEmailGroupController.get("emailAddresses"),SC.ManyArray)||SC.kindOf(EurekaJView.editEmailGroupController.get("emailAddresses"),SC.Array)){EurekaJView.editEmailGroupController.get("emailAddresses").pushObject(a)}else{EurekaJView.editEmailGroupController.set("emailAddresses",[a])}}else{SC.AlertPane.warn({message:"Unable to create new Email Address",description:"The Email Address must be unique for this Email Recipient Group, and contain at least 5 characters.",caption:"Try changing the Email Address."})}},saveEmailAction:function(){EurekaJView.emailAdministrationController.get("content").forEach(function(a){a.commitRecord()},this)},addSelectedChartsToChartGroup:function(){var b=SC.Query.local(EurekaJView.AdminstrationTreeModel,"isSelected = {isSelected}",{isSelected:YES});var a=EurekaJView.EurekaJStore.find(b);var c=[];a.forEach(function(d){if(d.instanceOf(EurekaJView.AdminstrationTreeModel)&&!EurekaJView.selectedChartGroupChartsController.get("content").contains(d)){d.set("isSelected",NO);EurekaJView.selectedChartGroupChartsController.get("content").pushObject(d)}},this)},applyHistoricalChanges:function(){var b=SC.DateTime.parse(EurekaJView.chartGridController.get("selectedChartFromString"),EurekaJView.chartGridController.get("dateFormat"));var a=SC.DateTime.parse(EurekaJView.chartGridController.get("selectedChartToString"),EurekaJView.chartGridController.get("dateFormat"));if(b&&a&&b.get("milliseconds")<=a.get("milliseconds")){EurekaJView.chartGridController.set("selectedChartFrom",b);EurekaJView.chartGridController.set("selectedChartTo",a)}EurekaJView.chartGridController.generateChartStrings();EurekaJView.chartGridController.refreshData()}});EurekaJView.statechart=SC.Statechart.create({rootState:SC.State.design({substatesAreConcurrent:YES,enterState:function(){EurekaJView.EurekaJStore.find(EurekaJView.LOGGED_IN_USER_QUERY)},showingTreePanel:SC.State.plugin("EurekaJView.showingTreePanel"),showingChartPanel:SC.State.plugin("EurekaJView.showingChartPanel"),showingInformationPanel:SC.State.plugin("EurekaJView.showingInformationPanel"),showingTopPanel:SC.State.plugin("EurekaJView.showingTopPanel")})});EurekaJView.InstrumentationTreeModel=SC.Record.extend({primaryKey:"guiPath",guiPath:SC.Record.attr(String),name:SC.Record.attr(String),isSelected:SC.Record.attr(Boolean),parentPath:SC.Record.attr(String),hasChildren:SC.Record.attr(Boolean),treeItemIsExpanded:NO,childrenNodes:SC.Record.toMany("EurekaJView.InstrumentationTreeModel"),chartGrid:SC.Record.toMany("EurekaJView.ChartGridModel"),nodeType:SC.Record.attr(String),treeItemChildren:function(){if(this.get("childrenNodes").toArray().length===0){return null}else{return this.get("childrenNodes")}}.property(),itemIcon:function(){if(!this.get("hasChildren")&&SC.compare(this.get("nodeType"),"chart")==0){return"/static/EurekaJView/en/eurekajview/source/resources/images/ej_chart_16.png"}else{if(!this.get("hasChildren")&&SC.compare(this.get("nodeType"),"alert")==0){return"/static/EurekaJView/en/eurekajview/source/resources/images/ej_chart_alert_16.png"}else{if(!this.get("hasChildren")&&SC.compare(this.get("nodeType"),"groupedStatistics")==0){return"/static/EurekaJView/en/eurekajview/source/resources/images/ej_groupedstats_16.png"}else{return null}}}}.property(),checkboxKey:function(){if(this.get("parentPath")){return"isSelected"}else{return null}}.property()});EurekaJView.TriggeredAlertModel=SC.Record.extend({primaryKey:"generatedID",generatedID:SC.Record.attr(Number),alertName:SC.Record.attr(String),triggeredDate:SC.Record.attr(Number),errorValue:SC.Record.attr(Number),warningValue:SC.Record.attr(Number),triggeredValue:SC.Record.attr(Number),formattedTriggeredDate:function(){var a=SC.DateTime.create(this.get("triggeredDate"));return a.toFormattedString("%d/%m/%Y %H:%M:%S")}.property("triggeredDate"),alertType:function(){var a="NORMAL";if(this.get("triggeredValue")>=this.get("errorValue")){a="CRITICAL"}else{if(this.get("triggeredValue")>=this.get("warningValue")){a="WARNING"}}return a}.property("triggeredValue"),summaryContent:function(){var b=SC.DateTime.create(this.get("triggeredDate"));var a=this.get("alertType");return this.get("alertName")+" "+a+" "+b.toFormattedString("%d/%m/%Y %H:%M:%S")+" "+this.get("errorValue")+" "+this.get("warningValue")+" "+this.get("triggeredValue")}.property("generatedID").cacheable()});sc_require("models/instrumentation_tree_model.js");sc_require("models/triggered_alert_model.js");EurekaJView.INSTRUMENTATION_TREE_QUERY=SC.Query.local(EurekaJView.InstrumentationTreeModel,{orderby:"guiPath"});EurekaJView.ADMINISTRATION_TREE_QUERY=SC.Query.local(EurekaJView.AdminstrationTreeModel,{orderby:"guiPath"});EurekaJView.ALERTS_QUERY=SC.Query.local(EurekaJView.AlertModel,{orderby:"alertName"});EurekaJView.INSTRUMENTATION_GROUPS_QUERY=SC.Query.local(EurekaJView.InstrumentationGroupModel,{orderby:"instrumentaionGroupName"});EurekaJView.EMAIL_GROUPS_QUERY=SC.Query.local(EurekaJView.EmailGroupModel,{orderby:"emailGroupName"});EurekaJView.TRIGGERED_ALERTS_QUERY=SC.Query.local(EurekaJView.TriggeredAlertModel,{orderby:"triggeredDate"});EurekaJView.INSTRUMENTATION_TABLE_QUERY=SC.Query.local(EurekaJView.InstrumentationTableModel,{orderby:"name"});EurekaJView.LOGGED_IN_USER_QUERY=SC.Query.local(EurekaJView.UserModel,{});EurekaJView.EurekaJDataSource=SC.DataSource.extend({fetch:function(a,b){SC.Logger.log("Calling fetch... "+b.conditions);if(b===EurekaJView.INSTRUMENTATION_TREE_QUERY){SC.Logger.log("fetching the tree menu...");var c={getInstrumentationMenu:"instrumentationMenu",includeCharts:true};SC.Request.postUrl("/instrumentationMenu").header({Accept:"application/json"}).json().notify(this,"performFetchInstrumentationTreeMenu",a,b).send(c);return YES}if(b===EurekaJView.ADMINISTRATION_TREE_QUERY){SC.Logger.log("fetching the Administration tree menu...");var c={getInstrumentationMenu:"administrationMenu",includeCharts:true,nodeType:"chart"};SC.Request.postUrl("/instrumentationMenu").header({Accept:"application/json"}).json().notify(this,"performFetchAdminTreeMenu",a,b).send(c);return YES}if(b===EurekaJView.ALERTS_QUERY){SC.Logger.log("fetching alerts...");var c={getAlerts:true};SC.Request.postUrl("/alert").header({Accept:"application/json"}).json().notify(this,"performFetchAlerts",a,b).send(c);return YES}if(b===EurekaJView.INSTRUMENTATION_GROUPS_QUERY){SC.Logger.log("fetching instrumentation groups...");var c={getInstrumentationGroups:true};SC.Request.postUrl("/instrumentationGroup").header({Accept:"application/json"}).json().notify(this,"performFetchInstrumentationGroups",a,b).send(c);return YES}if(b===EurekaJView.EMAIL_GROUPS_QUERY){SC.Logger.log("fetching email groups...");var c={getEmailGroups:true};SC.Request.postUrl("/email").header({Accept:"application/json"}).json().notify(this,"performFetchEmailGroups",a,b).send(c);return YES}if(b===EurekaJView.TRIGGERED_ALERTS_QUERY){SC.Logger.log("fetching triggered alerts...");var c={getTriggeredAlerts:true};SC.Request.postUrl("/alert").header({Accept:"application/json"}).json().notify(this,"performFetchTriggeredAlerts",a,b).send(c);return YES}if(b===EurekaJView.LOGGED_IN_USER_QUERY){SC.Logger.log("fetching logged in user...");var c={getLoggedInUser:true};SC.Request.postUrl("/user").header({Accept:"application/json"}).json().notify(this,"performFetchLoggedInUser",a,b).send(c);return YES}if(b===EurekaJView.INSTRUMENTATION_TABLE_QUERY){SC.Logger.log("fetching instrumentation Table...");var c={getLoggedInUser:true};SC.Request.postUrl("/user").header({Accept:"application/json"}).json().notify(this,"performFetchLoggedInUser",a,b).send(c);return YES}return NO},performFetchInstrumentationTreeMenu:function(b,a,c){if(SC.ok(b)){SC.Logger.log("Tree menu fetched");a.loadRecords(EurekaJView.InstrumentationTreeModel,b.get("body").instrumentationMenu);a.dataSourceDidFetchQuery(c)}else{a.dataSourceDidErrorQuery(c,b)}},performFetchAdminTreeMenu:function(b,a,c){if(SC.ok(b)){SC.Logger.log("Admin tree fetched");a.loadRecords(EurekaJView.AdminstrationTreeModel,b.get("body").administrationMenu);a.dataSourceDidFetchQuery(c)}else{a.dataSourceDidErrorQuery(c,b)}},performFetchAlerts:function(b,a,c){if(SC.ok(b)){SC.Logger.log("Alerts Fetched");a.loadRecords(EurekaJView.AlertModel,b.get("body").alerts);a.dataSourceDidFetchQuery(c)}else{a.dataSourceDidErrorQuery(c,b)}},performFetchInstrumentationGroups:function(b,a,c){if(SC.ok(b)){SC.Logger.log("Instrumentation Groups Fetched");a.loadRecords(EurekaJView.InstrumentationGroupModel,b.get("body").instrumentationGroups);a.dataSourceDidFetchQuery(c)}else{a.dataSourceDidErrorQuery(c,b)}},performFetchEmailGroups:function(b,a,c){if(SC.ok(b)){SC.Logger.log("Email Groups Fetched");a.loadRecords(EurekaJView.EmailGroupModel,b.get("body").emailGroups);a.dataSourceDidFetchQuery(c)}else{a.dataSourceDidErrorQuery(c,b)}},performFetchTriggeredAlerts:function(b,a,c){if(SC.ok(b)){a.loadRecords(EurekaJView.TriggeredAlertModel,b.get("body").triggeredAlerts);a.dataSourceDidFetchQuery(c)}else{a.dataSourceDidErrorQuery(c,b)}},performFetchLoggedInUser:function(b,a,d){SC.Logger.log(b.body);var c="";if(SC.ok(b)&&SC.ok(c=b.get("body"))){SC.Logger.log("user: "+b.get("body"));SC.Logger.log("results: "+c);EurekaJView.userController.set("username",b.get("body").loggedInUser.username);EurekaJView.userController.set("userRole",b.get("body").loggedInUser.userRole)}else{a.dataSourceDidErrorQuery(d,b)}},retrieveRecord:function(a,c){var f=SC.Store.recordTypeFor(c);SC.Logger.log("Calling retrieveRecord for..."+f+" with storeKey: "+c);if(f===EurekaJView.ChartGridModel){SC.Logger.log("Getting Chart Grid Model");var e={};if(EurekaJView.chartGridController.get("showHistoricalData")===NO){e={getInstrumentationChartData:{id:c,path:SC.Store.idFor(c),chartTimespan:EurekaJView.chartGridController.selectedChartTimespan,chartResolution:EurekaJView.chartGridController.selectedChartResolution,chartOffsetMs:EurekaJView.chartGridController.selectedTimeZoneOffset*60*60*1000}}}else{var d=EurekaJView.chartGridController.selectedChartFrom.get("milliseconds");var b=EurekaJView.chartGridController.selectedChartTo.get("milliseconds");e={getInstrumentationChartData:{id:c,path:SC.Store.idFor(c),chartFrom:d,chartTo:b,chartResolution:EurekaJView.chartGridController.selectedChartResolution,chartOffsetMs:EurekaJView.chartGridController.selectedTimeZoneOffset*60*60*1000}}}SC.Request.postUrl("/chart").header({Accept:"application/json"}).json().notify(this,this.performRetrieveChartGridRecord,{store:a,storeKey:c}).send(e);return YES}if(f===EurekaJView.EmailRecipientModel){SC.Logger.log("Getting Email Recipient Model");var e={getEmailRecipient:SC.Store.idFor(c)};SC.Request.postUrl("/email").header({Accept:"application/json"}).json().notify(this,this.performRetrieveEmailRecipientRecord,{store:a,storeKey:c}).send(e);return YES}if(f===EurekaJView.InstrumentationTableModel){SC.Logger.log("Getting Instrumentation Table Model...");var e={};if(EurekaJView.chartGridController.get("showHistoricalData")===NO){e={getInstrumentationTableData:{id:c,path:SC.Store.idFor(c),chartTimespan:EurekaJView.chartGridController.selectedChartTimespan,chartResolution:EurekaJView.chartGridController.selectedChartResolution,chartOffsetMs:EurekaJView.chartGridController.selectedTimeZoneOffset*60*60*1000}}}else{var d=EurekaJView.chartGridController.selectedChartFrom.get("milliseconds");var b=EurekaJView.chartGridController.selectedChartTo.get("milliseconds");e={getInstrumentationTableData:{id:c,path:SC.Store.idFor(c),chartFrom:d,chartTo:b,chartResolution:EurekaJView.chartGridController.selectedChartResolution,chartOffsetMs:EurekaJView.chartGridController.selectedTimeZoneOffset*60*60*1000}}}SC.Request.postUrl("/table").header({Accept:"application/json"}).json().notify(this,this.performRetrieveTableRecord,{store:a,storeKey:c}).send(e);return YES}return NO},performRetrieveChartGridRecord:function(b,d){var a=d.store;var c=d.storeKey;if(SC.$ok(b)){SC.Logger.log("Finished loading ChartGridRecord");EurekaJView.chartGridController.triggerTimer();a.dataSourceDidComplete(c,b.get("body"))}else{a.dataSourceDidError(c,b.get("body"))}},performRetrieveTableRecord:function(b,d){var a=d.store;var c=d.storeKey;if(SC.$ok(b)){SC.Logger.log("Finished loading Instrumentation Table");EurekaJView.chartGridController.triggerTimer();a.dataSourceDidComplete(c,b.get("body"))}else{a.dataSourceDidError(c,b.get("body"))}},performRetrieveEmailRecipientRecord:function(b,d){var a=d.store;var c=d.storeKey;if(SC.$ok(b)){SC.Logger.log("Finished loading Email Recipient");a.dataSourceDidComplete(c,b.get("body"))}else{a.dataSourceDidError(c,b.get("body"))}},createRecord:function(a,b){SC.Logger.log("Calling createRecord... ");if(SC.kindOf(a.recordTypeFor(b),EurekaJView.AlertModel)){SC.Request.postUrl("/alert").header({Accept:"application/json"}).json().notify(this,this.didCreateAlert,a,b).send(a.readDataHash(b));return YES}if(SC.kindOf(a.recordTypeFor(b),EurekaJView.InstrumentationGroupModel)){SC.Request.postUrl("/instrumentationGroup").header({Accept:"application/json"}).json().notify(this,this.didCreateInstrumentationGroup,a,b).send(a.readDataHash(b));return YES}if(SC.kindOf(a.recordTypeFor(b),EurekaJView.EmailGroupModel)){SC.Request.postUrl("/email").header({Accept:"application/json"}).json().notify(this,this.didCreateEmailGroup,a,b).send(a.readDataHash(b));return YES}return NO},didCreateAlert:function(b,a,c){if(SC.$ok(b)){a.dataSourceDidComplete(c)}else{a.dataSourceDidError(c,b)}},didCreateInstrumentationGroup:function(b,a,c){if(SC.$ok(b)){a.dataSourceDidComplete(c)}else{a.dataSourceDidError(c,b)}},didCreateEmailGroup:function(b,a,c){if(SC.$ok(b)){a.dataSourceDidComplete(c)}else{a.dataSourceDidError(c,b)}},updateRecord:function(a,b){SC.Logger.log("Calling updateRecord...");if(SC.kindOf(a.recordTypeFor(b),EurekaJView.AlertModel)){SC.Request.postUrl("/alert").header({Accept:"application/json"}).json().notify(this,this.didUpdateAlert,a,b).send(a.readDataHash(b));return YES}if(SC.kindOf(a.recordTypeFor(b),EurekaJView.InstrumentationGroupModel)){SC.Request.postUrl("/instrumentationGroup").header({Accept:"application/json"}).json().notify(this,this.didUpdateInstrumentationGroup,a,b).send(a.readDataHash(b));return YES}if(SC.kindOf(a.recordTypeFor(b),EurekaJView.EmailGroupModel)){SC.Request.postUrl("/email").header({Accept:"application/json"}).json().notify(this,this.didUpdateEmailGroup,a,b).send(a.readDataHash(b));return YES}return NO},didUpdateAlert:function(b,a,c){if(SC.$ok(b)){var d=b.get("body");if(d){d=d.content}a.dataSourceDidComplete(c,d)}else{a.dataSourceDidError(c,b)}},didUpdateInstrumentationGroup:function(b,a,c){if(SC.$ok(b)){var d=b.get("body");if(d){d=d.content}a.dataSourceDidComplete(c,d)}else{a.dataSourceDidError(c,b)}},didUpdateEmailGroup:function(b,a,c){if(SC.$ok(b)){var d=b.get("body");if(d){d=d.content}a.dataSourceDidComplete(c,d)}else{a.dataSourceDidError(c,b)}},destroyRecord:function(a,b){SC.Logger.log("Calling destroyRecord...");if(SC.kindOf(a.recordTypeFor(b),EurekaJView.AlertModel)){var c={deleteAlert:a.idFor(b)};SC.Request.postUrl("/alert").header({Accept:"application/json"}).json().notify(this,this.didDestroyAlert,a,b).send(c);return YES}if(SC.kindOf(a.recordTypeFor(b),EurekaJView.InstrumentationGroupModel)){var c={deleteChartGroup:a.idFor(b)};SC.Request.postUrl("/instrumentationGroup").header({Accept:"application/json"}).json().notify(this,this.didDestroyAlert,a,b).send(c);return YES}if(SC.kindOf(a.recordTypeFor(b),EurekaJView.EmailGroupModel)){var c={deleteEmailGroup:a.idFor(b)};SC.Request.postUrl("/email").header({Accept:"application/json"}).json().notify(this,this.didDestroyAlert,a,b).send(c);return YES}return NO},didDestroyAlert:function(b,a,c){if(SC.ok(b)){a.dataSourceDidDestroy(c)}else{a.dataSourceDidError(b)}}});EurekaJView.AdminstrationTreeModel=SC.Record.extend({primaryKey:"guiPath",guiPath:SC.Record.attr(String),nodeType:SC.Record.attr(String),name:SC.Record.attr(String),isSelected:SC.Record.attr(Boolean),parentPath:SC.Record.toOne("EurekaJView.AdminstrationTreeModel",{isMaster:YES}),hasChildren:SC.Record.attr(Boolean),treeItemIsExpanded:NO,childrenNodes:SC.Record.toMany("EurekaJView.AdminstrationTreeModel"),chartGrid:SC.Record.toMany("EurekaJView.ChartGridModel"),treeItemChildren:function(){if(this.get("childrenNodes").toArray().length===0){return null}else{return this.get("childrenNodes")}}.property(),itemIcon:function(){if(!this.get("hasChildren")&&SC.compare(this.get("nodeType"),"chart")==0){return"/static/EurekaJView/en/eurekajview/source/resources/images/ej_chart_16.png"}else{if(!this.get("hasChildren")&&SC.compare(this.get("nodeType"),"alert")==0){return"/static/EurekaJView/en/eurekajview/source/resources/images/ej_chart_alert_16.png"}else{if(!this.get("hasChildren")&&SC.compare(this.get("nodeType"),"groupedStatistics")==0){return"/static/EurekaJView/en/eurekajview/source/resources/images/ej_groupedstats_16.png"}else{return null}}}}.property(),checkboxKey:function(){if(!this.get("hasChildren")){return"isSelected"}else{return null}}.property()});EurekaJView.AlertModel=SC.Record.extend({primaryKey:"alertName",alertName:SC.Record.attr(String),alertActivated:SC.Record.attr(Boolean),alertInstrumentationNode:SC.Record.toOne("EurekaJView.AdminstrationTreeModel",{isMaster:YES}),alertNotifications:SC.Record.toMany("EurekaJView.EmailGroupModel",{isMaster:YES}),alertWarningValue:SC.Record.attr(Number),alertErrorValue:SC.Record.attr(Number),alertType:SC.Record.attr(String),alertDelay:SC.Record.attr(Number)});EurekaJView.ChartDataModel=SC.Record.extend({primaryKey:"chartDataKey",chartDataKey:SC.Record.attr(String),chartDataX:SC.Record.attr(Number),chartDataY:SC.Record.attr(Number),flotData:function(){SC.Logger.log("building up flotData JSON");var a=[];a.push(this.get("chartDataX"));a.push(this.get("chartDataY"))}.property("chartDataX","chartDataY").cacheable()});EurekaJView.ChartGridModel=SC.Record.extend({primaryKey:"instrumentationNode",chart:SC.Record.attr(Array),instrumentationNode:SC.Record.attr(String),table:SC.Record.toMany("EurekaJView.InstrumentationTableModel"),isChart:function(){SC.Logger.log("isChart: "+this.get("chart"));if((this.get("chart"))){return true}return false}.property(),isTable:function(){SC.Logger.log("isTable: "+this.get("table"));var a=false;this.get("table").forEach(function(b){a=true},this);return a}.property()});EurekaJView.ChartSeriesModel=SC.Record.extend({primaryKey:"label",data:SC.Record.attr(Array,{defaultValue:[]}),label:SC.Record.attr(String,{defaultValue:"Series Loading..."}),flotSeries:[{label:"Series Loading"}],observesData:function(){SC.Logger.log("building up flotSeries JSON: "+this.get("data"));var a={label:this.get("label"),data:this.get("data")};this.set("flotSeries",a)}.observes("data")});EurekaJView.EmailGroupModel=SC.Record.extend({primaryKey:"emailGroupName",emailGroupName:SC.Record.attr(String),smtpHost:SC.Record.attr(String),smtpUsername:SC.Record.attr(String),smtpPassword:SC.Record.attr(String),smtpPort:SC.Record.attr(Number),smtpUseSSL:SC.Record.attr(Boolean),emailAddresses:SC.Record.toMany("EurekaJView.EmailRecipientModel",{isMaster:YES})});EurekaJView.EmailRecipientModel=SC.Record.extend({primaryKey:"emailAddress",emailAddress:SC.Record.attr(String)});EurekaJView.InstrumentationGroupModel=SC.Record.extend({primaryKey:"instrumentaionGroupName",instrumentaionGroupName:SC.Record.attr(String),instrumentationGroupPath:SC.Record.toMany("EurekaJView.AdminstrationTreeModel",{isMaster:YES})});EurekaJView.InstrumentationTableModel=SC.Record.extend({primaryKey:"columnId",columnId:SC.Record.attr(String),name:SC.Record.attr(String),value:SC.Record.attr(Number),listValue:function(){return this.get("name")+" avg: "+this.get("value")}.property()});Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var e=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,d=b.toLowerCase();for(var c=0;c<e.length;c++){if(e[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.getDayNumberFromName=function(b){var f=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,e=Date.CultureInfo.shortestDayNames,d=b.toLowerCase();for(var c=0;c<f.length;c++){if(f[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,b){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(a,b){return(b||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(b,d){var c=(d||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in c){if(c[a]===b){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(c,a){var b=this.getTime();return b>=c.getTime()&&b<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}var a=b;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(d,c,a,b){if(typeof d!="number"){throw new TypeError(d+" is not a Number.")}else{if(d<c||d>a){throw new RangeError(d+" is not a valid value for "+b+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(c,a,b){return Date._validate(c,1,Date.getDaysInMonth(a,b),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(b){var a=b;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||+1))%7;return this.addDays((c===0)?c+=7*(b||+1):c)};Date.prototype.moveToMonth=function(c,a){var b=(c-this.getMonth()+12*(a||+1))%12;return this.addMonths((b===0)?b+=12*(a||+1):b)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var h=this.getFullYear(),c=this.getMonth(),f=this.getDate();var j=a||Date.CultureInfo.firstDayOfWeek;var e=7+1-new Date(h,0,1).getDay();if(e==8){e=1}var b=((Date.UTC(h,c,f,0,0,0)-Date.UTC(h,0,1,0,0,0))/86400000)+1;var i=Math.floor((b-e+7)/7);if(i===j){h--;var g=7+1-new Date(h,0,1).getDay();if(g==2||g==8){i=53}else{i=52}}return i};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),c=Number(b)*-6/10;this.addMinutes(c-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6,a;if(b<0){a=(b-10000).toString();return a[0]+a.substr(2)}else{a=(b+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(c){var a=this;var b=function b(d){return(d.toString().length==1)?"0"+d:d};return c?c.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case"hh":return b(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return b(a.getHours());case"H":return a.getHours();case"mm":return b(a.getMinutes());case"m":return a.getMinutes();case"ss":return b(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return b(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return b((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var g=Date.prototype,a=Number.prototype;var p=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),o=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),m;var l=function(i){return function(){if(this._is){this._is=false;return this.getDay()==i}return this.moveToDayOfWeek(i,this._orient)}};for(var f=0;f<p.length;f++){g[p[f]]=g[p[f].substring(0,3)]=l(f)}var h=function(i){return function(){if(this._is){this._is=false;return this.getMonth()===i}return this.moveToMonth(i,this._orient)}};for(var d=0;d<o.length;d++){g[o[d]]=g[o[d].substring(0,3)]=h(d)}var e=function(i){return function(){if(i.substring(i.length-1)!="s"){i+="s"}return this["add"+i](this._orient)}};var b=function(i){return function(){this._dateElement=i;return this}};for(var c=0;c<n.length;c++){m=n[c].toLowerCase();g[m]=g[m+"s"]=e(n[c]);a[m]=a[m+"s"]=b(m)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(i){this.message="Parse error at '"+i.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(i){return function(j){var k=j.match(i);if(k){return([k[0],j.substring(k[0].length)])}else{throw new a.Exception(j)}}},token:function(i){return function(j){return c.rtoken(new RegExp("^s*"+j+"s*"))(j)}},stoken:function(i){return c.rtoken(new RegExp("^"+i))},until:function(i){return function(j){var k=[],m=null;while(j.length){try{m=i.call(this,j)}catch(l){k.push(m[0]);j=m[1];continue}break}return[k,j]}},many:function(i){return function(j){var m=[],k=null;while(j.length){try{k=i.call(this,j)}catch(l){return[m,j]}m.push(k[0]);j=k[1]}return[m,j]}},optional:function(i){return function(j){var k=null;try{k=i.call(this,j)}catch(l){return[null,j]}return[k[0],k[1]]}},not:function(i){return function(j){try{i.call(this,j)}catch(k){return[null,j]}throw new a.Exception(j)}},ignore:function(i){return i?function(j){var k=null;k=i.call(this,j);return[null,k[1]]}:null},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l))}return m},cache:function(k){var i={},j=null;return function(l){try{j=i[l]=(i[l]||k.call(this,l))}catch(m){j=i[l]=m}if(j instanceof a.Exception){throw j}else{return j}}},any:function(){var i=arguments;return function(k){var l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue}try{l=(i[j].call(this,k))}catch(m){l=null}if(l){return l}}throw new a.Exception(k)}},each:function(){var i=arguments;return function(k){var n=[],l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue}try{l=(i[j].call(this,k))}catch(m){throw new a.Exception(k)}n.push(l[0]);k=l[1]}return[n,k]}},all:function(){var j=arguments,i=i;return i.each(i.optional(j))},sequence:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;if(i.length==1){return i[0]}return function(o){var p=null,t=null;var v=[];for(var n=0;n<i.length;n++){try{p=i[n].call(this,o)}catch(u){break}v.push(p[0]);try{t=j.call(this,p[1])}catch(m){t=null;break}o=t[1]}if(!p){throw new a.Exception(o)}if(t){throw new a.Exception(t[1])}if(k){try{p=k.call(this,p[1])}catch(l){throw new a.Exception(p[1])}}return[v,(p?p[1]:o)]}},between:function(j,k,i){i=i||j;var l=c.each(c.ignore(j),k,c.ignore(i));return function(m){var n=l.call(this,m);return[[n[0][0],r[0][2]],n[1]]}},list:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return(i instanceof Array?c.each(c.product(i.slice(0,-1),c.ignore(j)),i.slice(-1),c.ignore(k)):c.each(c.many(c.each(i,c.ignore(j))),px,c.ignore(k)))},set:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return function(B){var l=null,n=null,m=null,o=null,t=[[],B],A=false;for(var v=0;v<i.length;v++){m=null;n=null;l=null;A=(i.length==1);try{l=i[v].call(this,B)}catch(y){continue}o=[[l[0]],l[1]];if(l[1].length>0&&!A){try{m=j.call(this,l[1])}catch(z){A=true}}else{A=true}if(!A&&m[1].length===0){A=true}if(!A){var w=[];for(var u=0;u<i.length;u++){if(v!=u){w.push(i[u])}}n=c.set(w,j).call(this,m[1]);if(n[0].length>0){o[0]=o[0].concat(n[0]);o[1]=n[1]}}if(o[1].length<t[1].length){t=o}if(t[1].length===0){break}}if(t[0].length===0){return t}if(k){try{m=k.call(this,t[1])}catch(x){throw new a.Exception(t[1])}t[1]=m[1]}return t}},forward:function(i,j){return function(k){return i[j].call(this,k)}},replace:function(j,i){return function(k){var l=j.call(this,k);return[i,l[1]]}},process:function(j,i){return function(k){var l=j.call(this,k);return[i.call(this,l[0]),l[1]]}},min:function(i,j){return function(k){var l=j.call(this,k);if(l[0].length<i){throw new a.Exception(k)}return l}}};var h=function(i){return function(){var j=null,m=[];if(arguments.length>1){j=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){j=arguments[0]}}if(j){for(var l=0,k=j.shift();l<k.length;l++){j.unshift(k[l]);m.push(i.apply(null,j));j.shift();return m}}else{return i.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(i){return function(){if(arguments[0] instanceof Array){return i.apply(null,arguments[0])}else{return i.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var f=function(j){var k=[];for(var g=0;g<j.length;g++){if(j[g] instanceof Array){k=k.concat(f(j[g]))}else{if(j[g]){k.push(j[g])}}}return k};Date.Grammar={};Date.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var j=g.replace(/[^\d\+\-]/g,"");if(j.length){this.timezoneOffset=Number(j)}else{this.timezone=g.toLowerCase()}}},day:function(g){var j=g[0];return function(){this.day=Number(j.match(/\d+/)[0])}},month:function(g){return function(){this.month=((g.length==3)?Date.getMonthNumberFromName(g):(Number(g)-1))}},year:function(g){return function(){var j=Number(g);this.year=((g.length>2)?j:(j+(((j+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];var j=new Date();this.year=j.getFullYear();this.month=j.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var k=0;k<g.length;k++){if(g[k]){g[k].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var l=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){l.set({timezone:this.timezone})}else{if(this.timezoneOffset){l.set({timezoneOffset:this.timezoneOffset})}}return l},finish:function(g){g=(g instanceof Array)?f(g):[g];if(g.length===0){return null}for(var m=0;m<g.length;m++){if(typeof g[m]=="function"){g[m].call(this)}}if(this.now){return new Date()}var j=Date.today();var p=null;var n=!!(this.days!=null||this.orient||this.operator);if(n){var o,l,k;k=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";o=(Date.getDayNumberFromName(this.weekday)-j.getDay());l=7;this.days=o?((o+(k*l))%l):(k*l)}if(this.month){this.unit="month";o=(this.month-j.getMonth());l=12;this.months=o?((o+(k*l))%l):(k*l);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*k}return j.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(j.addDays((Date.getDayNumberFromName(this.weekday)-j.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return j.set(this)}}};var b=Date.Parsing.Operators,e=Date.Grammar,d=Date.Translator,i;e.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=b.stoken(":");e.whiteSpace=b.rtoken(/^\s*/);e.generalDelimiter=b.rtoken(/^(([\s\,]|at|on)+)/);var a={};e.ctoken=function(m){var l=a[m];if(!l){var n=Date.CultureInfo.regexPatterns;var k=m.split(/\s+/),j=[];for(var g=0;g<k.length;g++){j.push(b.replace(b.rtoken(n[k[g]]),k[g]))}l=a[m]=b.any.apply(null,j)}return l};e.ctoken2=function(g){return b.rtoken(Date.CultureInfo.regexPatterns[g])};e.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),d.hour));e.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),d.hour));e.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),d.hour));e.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),d.hour));e.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.minute));e.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.minute));e.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.second));e.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.second));e.hms=b.cache(b.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=b.cache(b.process(e.ctoken2("shortMeridian"),d.meridian));e.tt=b.cache(b.process(e.ctoken2("longMeridian"),d.meridian));e.z=b.cache(b.process(b.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),d.timezone));e.zz=b.cache(b.process(b.rtoken(/^(\+|\-)\s*\d\d\d\d/),d.timezone));e.zzz=b.cache(b.process(e.ctoken2("timezone"),d.timezone));e.timeSuffix=b.each(b.ignore(e.whiteSpace),b.set([e.tt,e.zzz]));e.time=b.each(b.optional(b.ignore(b.stoken("T"))),e.hms,e.timeSuffix);e.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.ddd=e.dddd=b.cache(b.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),d.month));e.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),d.month));e.MMM=e.MMMM=b.cache(b.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),d.month));e.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),d.year));e.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),d.year));e.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),d.year));e.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),d.year));i=function(){return b.each(b.any.apply(null,arguments),b.not(e.ctoken2("timeContext")))};e.day=i(e.d,e.dd);e.month=i(e.M,e.MMM);e.year=i(e.yyyy,e.yy);e.orientation=b.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=b.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=b.process(e.ctoken("yesterday tomorrow today now"),d.rday);e.unit=b.process(e.ctoken("minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=b.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);i=function(){return b.set(arguments,e.datePartDelimiter)};e.mdy=i(e.ddd,e.month,e.day,e.year);e.ymd=i(e.ddd,e.year,e.month,e.day);e.dmy=i(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,g))};e.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw Date.Parsing.Exception(g)}}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(g){return b.ignore(b.stoken(g))}))),function(g){return b.process(b.each.apply(null,g),d.finishExact)});var h={};var c=function(g){return h[g]=(h[g]||e.format(g)[0])};e.formats=function(j){if(j instanceof Array){var k=[];for(var g=0;g<j.length;g++){k.push(c(j[g]))}return b.any.apply(null,k)}else{return c(j)}};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);e._start=b.process(b.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),d.finish);e.start=function(g){try{var j=e._formats.call({},g);if(j[1].length===0){return j}}catch(k){}return e._start.call({},g)}}());Date._parse=Date.parse;Date.parse=function(a){var b=null;if(!a){return null}try{b=Date.Grammar.start.call({},a)}catch(c){return null}return((b[1].length===0)?b[0]:null)};Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(c){var d=null;try{d=a.call({},c)}catch(f){return null}return((d[1].length===0)?d[0]:null)}};Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)};EurekaJView.showingChartPanel=SC.State.extend({enterState:function(){EurekaJView.mainPage.get("flotChartGrid").set("isVisible",YES);EurekaJView.chartGridController.init()},exitState:function(){EurekaJView.mainPage.get("flotChartGrid").set("isVisible",NO)}});EurekaJView.showingInformationPanel=SC.State.extend({enterState:function(){EurekaJView.mainPage.get("informationPanelView").get("informationPanelTabView").addObserver("nowShowing",function(a){EurekaJView.chartGridController.set("nowShowingTab",a.get("nowShowing"))});EurekaJView.mainPage.get("informationPanelView").set("isVisible",YES);EurekaJView.triggeredAlertListController.triggerTimer();EurekaJView.triggeredAlertListController.timer.set("isPaused",NO)},exitState:function(){EurekaJView.mainPage.get("informationPanelView").set("isVisible",NO);EurekaJView.triggeredAlertListController.timer.set("isPaused",YES)}});EurekaJView.showingAdminPanel=SC.State.extend({hideAdministrationPaneAction:function(){this.gotoState("ready")},enterState:function(){EurekaJView.mainPage.get("adminPanelView").append()},exitState:function(){EurekaJView.mainPage.get("adminPanelView").remove()}});EurekaJView.showingTopPanel=SC.State.extend({initialSubstate:"ready",enterState:function(){EurekaJView.mainPage.get("topView").set("isVisible",YES);SC.Logger.log("entered showTopMenu")},exitState:function(){EurekaJView.mainPage.get("topView").set("isVisible",NO);SC.Logger.log("exited showTopMenu")},ready:SC.State.design({showAdministrationPaneAction:function(){EurekaJView.EurekaJStore.find(EurekaJView.ALERTS_QUERY);EurekaJView.EurekaJStore.find(EurekaJView.ADMINISTRATION_TREE_QUERY);EurekaJView.EurekaJStore.find(EurekaJView.INSTRUMENTATION_GROUPS_QUERY);EurekaJView.EurekaJStore.find(EurekaJView.EMAIL_GROUPS_QUERY);EurekaJView.updateAlertsAction();EurekaJView.updateInstrumentationGroupsAction();EurekaJView.updateEmailGroupsAction();this.gotoState("showingAdminPanel")}}),showingAdminPanel:SC.State.plugin("EurekaJView.showingAdminPanel")});EurekaJView.showingTreePanel=SC.State.extend({enterState:function(){EurekaJView.EurekaJStore.find(EurekaJView.INSTRUMENTATION_TREE_QUERY);EurekaJView.InstrumentationTreeController.populate();EurekaJView.mainPage.get("instrumentationTreeView").set("isVisible",YES);EurekaJView.mainPage.get("instrumentationTreeScrollView").set("isVisible",YES);EurekaJView.InstrumentationTreeController.triggerTimer();EurekaJView.InstrumentationTreeController.timer.set("isPaused",NO)},exitState:function(){EurekaJView.mainPage.get("instrumentationTreeView").set("isVisible",NO);EurekaJView.mainPage.get("instrumentationTreeScrollView").set("isVisible",NO);EurekaJView.InstrumentationTreeController.timer.set("isPaused",YES)}});EurekaJView.AdministrationPaneView=SC.SheetPane.extend({defaultResponder:EurekaJView,contentView:SC.View.extend({childViews:"administrationContentView hideAdministrationPanelButtonView".w(),layout:{top:0,left:0,bottom:0,right:0},administrationToolbarView:SC.ToolbarView.extend({childViews:"labelView".w(),layout:{top:0,left:0,right:0,height:40},anchorLocation:SC.ANCHOR_TOP,labelView:SC.LabelView.extend({layout:{centerY:0,centerX:0,height:40,top:10,width:250},controlSize:SC.LARGE_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,value:"EurekaJ Administration"}).classNames("whitelabel")}),administrationContentView:SC.TabView.design({layout:{top:10,bottom:50,left:10,right:10},nowShowing:"EurekaJView.AlertAdministrationView",itemTitleKey:"title",itemValueKey:"value",items:[{title:"Alerts",value:"EurekaJView.AlertAdministrationView"},{title:"Chart Groups",value:"EurekaJView.InstrumentationGroupsAdministrationView"},{title:"Email Recipients",value:"EurekaJView.EmailRecipientsAdministrationView"},{title:"Instrumentation Menu",value:"EurekaJView.TreeMenuAdministrationView"}]}),hideAdministrationPanelButtonView:SC.ButtonView.extend({layout:{width:80,bottom:20,height:24,centerX:0},title:"Close",action:"hideAdministrationPaneAction"})})});EurekaJView.AlertAdministrationView=SC.View.extend({childViews:"newAlertView alertSelectionScrollView deleteAlertButtonView alertContentView".w(),layout:{top:0,bottom:0,left:0,right:0},newAlertView:SC.View.design({childViews:"newAlertTextFieldView newAlertButtonView".w(),layout:{top:20,height:30,left:0,width:200},backgroundColor:"#ffffff",newAlertTextFieldView:SC.TextFieldView.design({layout:{top:2,height:24,centerY:0,width:120,left:2},valueBinding:"EurekaJView.alertAdministrationController.newAlertName"}),newAlertButtonView:SC.ButtonView.extend({layout:{left:125,right:2,height:24,centerY:0,top:2,centerY:0},title:"Add",action:"EurekaJView.addNewAlertAction"})}).classNames("thinBlackBorder"),alertSelectionScrollView:SC.ScrollView.design({layout:{top:50,bottom:25,left:0,width:200},hasHorizontalScroller:YES,hasVerticalScroller:YES,contentView:SC.ListView.extend({allowsMultipleSelection:NO,backgroundColor:"#F0F8FF",contentBinding:"EurekaJView.alertAdministrationController.arrangedObjects",selectionBinding:"EurekaJView.alertAdministrationController.selection",contentValueKey:"alertName",selectionDelegate:EurekaJView.alertSelectionDelegate,})}),deleteAlertButtonView:SC.ButtonView.extend({layout:{left:0,width:200,height:24,centerX:0,bottom:0,centerY:0},title:"Delete Selected Alert",action:"EurekaJView.deleteSelectedAlertAction"}),alertContentView:SC.View.extend({childViews:"activeLabelView activeCheckboxView errorLabelView errorTextfieldView warningLabelView warningTextfieldView alertTypeLabelView alertTypeSelectFieldView delayLabelView delayTextfieldView alertSourceLabelView saveAlertButtonView alertNotificationLabelView alertNotificationSelectFieldView alertChartSelectScrollView".w(),isVisibleBinding:"EurekaJView.alertAdministrationController.showEditAlertView",layout:{top:20,bottom:0,right:0,left:215},activeLabelView:SC.LabelView.extend({layout:{left:10,width:80,top:0,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Activated:"}).classNames("blacklabel"),activeCheckboxView:SC.CheckboxView.extend({layout:{left:90,width:20,top:0,height:20},contentBinding:"EurekaJView.editAlertController",contentValueKey:"alertActivated"}),errorLabelView:SC.LabelView.extend({layout:{left:10,width:80,top:25,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Error Value:"}).classNames("blacklabel"),errorTextfieldView:SC.TextFieldView.extend({layout:{left:90,width:100,top:25,height:20},contentBinding:"EurekaJView.editAlertController",contentValueKey:"alertErrorValue",validator:SC.Validator.Number}),warningLabelView:SC.LabelView.extend({layout:{left:220,width:100,top:25,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Warning Value:"}).classNames("blacklabel"),warningTextfieldView:SC.TextFieldView.extend({layout:{left:330,width:100,top:25,height:20},contentBinding:"EurekaJView.editAlertController",contentValueKey:"alertWarningValue",validator:SC.Validator.Number}),alertTypeLabelView:SC.LabelView.extend({layout:{left:10,width:80,top:50,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Alert Type:"}).classNames("blacklabel"),alertTypeSelectFieldView:SC.SelectButtonView.extend({layout:{left:90,width:150,top:50,height:25},theme:"square",nameKey:"typeName",valueKey:"alertType",objectsBinding:"EurekaJView.administrationPaneController.alertTypes",contentBinding:"EurekaJView.editAlertController",contentValueKey:"alertType",disableSort:YES,acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled")}),delayLabelView:SC.LabelView.extend({layout:{left:220,width:100,top:50,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Alert Delay:"}).classNames("blacklabel"),delayTextfieldView:SC.TextFieldView.extend({layout:{left:330,width:100,top:50,height:20},contentBinding:"EurekaJView.editAlertController",contentValueKey:"alertDelay",validator:SC.Validator.Number}),alertSourceLabelView:SC.LabelView.extend({layout:{left:10,width:100,top:75,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Alert Source:"}).classNames("blacklabel"),alertChartSelectScrollView:SC.ScrollView.design({layout:{left:10,right:20,top:95,height:150},hasHorizontalScroller:YES,hasVerticalScroller:YES,contentView:SC.SourceListView.extend({allowsMultipleSelection:NO,backgroundColor:"#F0F8FF",contentValueKey:"name",rowHeight:18,contentBinding:"EurekaJView.alertChartController.arrangedObjects",selectionBinding:"EurekaJView.alertChartController.selection",selectionDelegate:EurekaJView.alertSelectionDelegate})}),alertNotificationLabelView:SC.LabelView.extend({layout:{left:10,right:20,top:250,height:25},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Alert Notification:"}).classNames("blacklabel"),alertNotificationSelectFieldView:SC.ScrollView.design({layout:{left:10,right:20,top:280,bottom:40},hasHorizontalScroller:YES,hasVerticalScroller:YES,contentView:SC.ListView.extend({allowsMultipleSelection:NO,backgroundColor:"#F0F8FF",contentValueKey:"name",contentBinding:"EurekaJView.alertNotificationController.arrangedObjects",selectionBinding:"EurekaJView.alertNotificationController.selection",contentValueKey:"emailGroupName",selectionDelegate:EurekaJView.alertSelectionDelegate,acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled")})}),saveAlertButtonView:SC.ButtonView.design({layout:{right:10,width:150,bottom:10,height:25},title:"Save All Alert Changes",action:"EurekaJView.saveAlertsAction"})})});EurekaJView.EmailRecipientsAdministrationView=SC.View.extend({childViews:"newEmailGroupView emailGroupSelectionScrollView deleteAlertButtonView emailContentView".w(),layout:{top:0,bottom:0,left:0,right:0},newEmailGroupView:SC.View.design({childViews:"newEmailGroupTextFieldView newEmailGroupButtonView".w(),layout:{top:20,height:30,left:0,width:200},backgroundColor:"#ffffff",newEmailGroupTextFieldView:SC.TextFieldView.design({layout:{top:2,height:24,centerY:0,width:120,left:2},valueBinding:"EurekaJView.emailAdministrationController.newEmailGroupName"}),newEmailGroupButtonView:SC.ButtonView.extend({layout:{left:125,right:2,height:24,centerY:0,top:2,centerY:0},title:"Add",action:"EurekaJView.addNewEmailGroupAction"})}).classNames("thinBlackBorder"),emailGroupSelectionScrollView:SC.ScrollView.design({layout:{top:50,bottom:25,left:0,width:200},hasHorizontalScroller:YES,hasVerticalScroller:YES,contentView:SC.ListView.extend({backgroundColor:"#F0F8FF",contentBinding:"EurekaJView.emailAdministrationController.arrangedObjects",selectionBinding:"EurekaJView.emailAdministrationController.selection",contentValueKey:"emailGroupName"})}),deleteAlertButtonView:SC.ButtonView.extend({layout:{left:0,width:200,height:24,centerX:0,bottom:0,centerY:0},title:"Delete Selected Email Recipient",action:"EurekaJView.deleteSelectedEmailGroupAction"}),emailContentView:SC.View.extend({childViews:"smtpHostLabelView smtpHostTextfieldView smtpUsernameLabelView smtpUsernameTextfieldView smtpPasswordLabelView smtpPasswordTextfieldView smtpPortLabelView smtpPortTextfieldView smtpSSLLabelView smtpSSLTextfieldView emailRecipieltsHeadlineLabelView emailRecipientsView saveEmailButtonView".w(),isVisibleBinding:"EurekaJView.emailAdministrationController.showEditAlertView",layout:{top:20,bottom:0,right:0,left:215},smtpHostLabelView:SC.LabelView.extend({layout:{left:10,width:100,top:0,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"SMTP Host:"}).classNames("blacklabel"),smtpHostTextfieldView:SC.TextFieldView.extend({layout:{left:110,right:10,top:0,height:20},contentBinding:"EurekaJView.editEmailGroupController",contentValueKey:"smtpHost"}),smtpUsernameLabelView:SC.LabelView.extend({layout:{left:10,width:100,top:25,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"SMTP Username:"}).classNames("blacklabel"),smtpUsernameTextfieldView:SC.TextFieldView.extend({layout:{left:110,width:100,top:25,height:20},contentBinding:"EurekaJView.editEmailGroupController",contentValueKey:"smtpUsername"}),smtpPasswordLabelView:SC.LabelView.extend({layout:{left:230,width:100,top:25,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"SMTP Password:"}).classNames("blacklabel"),smtpPasswordTextfieldView:SC.TextFieldView.extend({layout:{left:350,width:100,top:25,height:20},contentBinding:"EurekaJView.editEmailGroupController",contentValueKey:"smtpPassword",isPassword:YES}),smtpPortLabelView:SC.LabelView.extend({layout:{left:10,width:100,top:50,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"SMTP Port:"}).classNames("blacklabel"),smtpPortTextfieldView:SC.TextFieldView.extend({layout:{left:110,width:100,top:50,height:20},contentBinding:"EurekaJView.editEmailGroupController",contentValueKey:"smtpPort",validator:SC.Validator.Number}),smtpSSLLabelView:SC.LabelView.extend({layout:{left:230,width:100,top:50,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"SMTP Use SSL ?:"}).classNames("blacklabel"),smtpSSLTextfieldView:SC.CheckboxView.extend({layout:{left:350,width:100,top:50,height:20},contentBinding:"EurekaJView.editEmailGroupController",contentValueKey:"smtpUseSSL"}),emailRecipieltsHeadlineLabelView:SC.LabelView.design({layout:{left:10,width:200,top:75,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Email Recipients:"}).classNames("blacklabel"),emailRecipientsView:SC.View.design({childViews:"newEmailRecipientGroupView emailRecipientsScrollView".w(),layout:{left:10,right:20,top:100,bottom:40},anchorLocation:SC.ANCHOR_TOP,backgroundColor:"#F0F8FF",newEmailRecipientGroupView:SC.View.design({childViews:"newEmailRecipeintTextFieldView newEmailRecipeintButtonView".w(),layout:{top:0,height:30,left:0,right:0},backgroundColor:"#ffffff",newEmailRecipeintTextFieldView:SC.TextFieldView.design({layout:{top:2,height:24,centerY:0,right:100,left:2},valueBinding:"EurekaJView.emailRecipientsController.newEmailRecipent"}),newEmailRecipeintButtonView:SC.ButtonView.extend({layout:{width:90,right:2,height:24,centerY:0,top:2,centerY:0},title:"Add",action:"EurekaJView.addNewEmailRecipientAction"})}).classNames("thinBlackBorder"),emailRecipientsScrollView:SC.ScrollView.design({layout:{top:35,bottom:0,left:0,right:0},hasHorizontalScroller:YES,hasVerticalScroller:YES,contentView:SC.ListView.extend({backgroundColor:"#F0F8FF",contentBinding:"EurekaJView.emailRecipientsController.arrangedObjects",selectionBinding:"EurekaJView.emailRecipientsController.selection",contentValueKey:"emailAddress",canDeleteContent:YES})})}),saveEmailButtonView:SC.ButtonView.design({layout:{right:10,width:300,bottom:10,height:25},title:"Save All Email Group Changes",action:"EurekaJView.saveEmailAction"})})});EurekaJView.TreeMenuAdministrationView=SC.View.extend({childViews:"deleteLabelView".w(),layout:{top:0,bottom:0,left:0,right:0},deleteLabelView:SC.LabelView.design({layout:{left:10,width:80,top:0,height:30},controlSize:SC.REGULAR_CONTROL_SIZE,value:"Delete Tree Menus"})});EurekaJView.Calendar=SC.View.extend({nomeMesi:["January","February","March","April","May","June","July","August","September","October","November","December"],nomiGiorni:["Mo","Tu","We","Th","Fr","Sa","Su"],theDate:null,firstOfPeriod:null,displayProperties:["theDate"],render:function(c,a){var l=null;l=this.get("theDate");if(!l){l=Date.today();this.theDate=l}var k=Date.parse((1900+l.getYear())+"/"+(l.getMonth()+1)+"/"+1);var f=k.getDay()==0?6:k.getDay()-1;var n=k.add(-1*(f)).days();this.saveFirstOfPeriod(l);var d=this.get("nomeMesi")[l.getMonth()];var h=1900+l.getYear();c=c.begin("table").attr("border","0").classNames(["calendar"]);c=c.begin("tr").begin("td").id("previous").classNames(["header"]).push("&lt;").end().begin("td").classNames(["header"]).attr("colspan","5").attr("align","center").push(d+" "+h).end().begin("td").id("next").classNames(["header"]).push("&gt;").end().end();var m=0;for(var g=1;g<7;g++){c=c.begin("tr");for(var e=1;e<8;e++){m++;var b="day"+m;if(n.getMonth()!=l.getMonth()){c=c.begin("td").id(b).classNames(["not-this-month"]).push(n.getDate()).end()}else{if(n.equals(l)){c=c.begin("td").id(b).classNames(["the-date"]).push(n.getDate()).end()}else{if(n.equals(Date.today())){c=c.begin("td").id(b).classNames(["today"]).push(n.getDate()).end()}else{c=c.begin("td").id(b).push(n.getDate()).end()}}}n.add(1).days()}c=c.end()}c=c.begin("tr");for(var e=0;e<7;e++){c=c.begin("td").classNames(["day-of-week"]).push(this.get("nomiGiorni")[e]).end()}c=c.end();c.end()},saveFirstOfPeriod:function(b){var a=Date.parse((1900+b.getYear())+"/"+(b.getMonth()+1)+"/"+1);this.set("firstOfPeriod",a.add(-1*(a.getDay()-1)).days())},mouseDown:function(a){return YES},mouseUp:function(b){if(b.srcElement&&b.srcElement.id){if(b.srcElement.id=="previous"){var c=new Date(this.get("theDate").getTime());this.set("theDate",c.add(-1).months())}if(b.srcElement.id=="next"){var c=new Date(this.get("theDate").getTime());this.set("theDate",c.add(1).months())}if(b.srcElement.id.substr(0,3)=="day"){var e=parseInt(b.srcElement.id.substr(3))-1;var a=this.get("firstOfPeriod").add(e).days();this.set("theDate",a)}}return YES},touchEnd:function(a){if(a.event){this.mouseUp(a.event)}}});EurekaJView.ChartView=SC.View.extend({contentDisplayProperties:"content".w(),childViews:"chartLabel chart table".w(),chartLabel:SC.LabelView.design({layout:{centerX:0,left:5,top:5,right:5,height:30},controlSize:SC.LARGE_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,textAlign:SC.ALIGN_CENTER,valueBinding:".parentView.content.instrumentationNode"}),chart:Flot.GraphView.design({isVisibleBinding:".parentView.content.isChart",layout:{top:30,right:5,bottom:5,left:5},seriesBinding:".parentView.content",debugInConsole:NO,showTooltip:YES}),table:SC.TableView.design({isVisibleBinding:".parentView.content.isTable",layout:{top:30,right:5,bottom:5,left:5},columns:[SC.TableColumn.create({key:"name",label:"Name",width:150}),SC.TableColumn.create({key:"value",label:"Value",width:150})],contentBinding:".parentView.content.table",exampleView:SC.TableRowView,recordType:EurekaJView.ChartGridModel})});sc_require("views/chart/chart_view");EurekaJView.ChartGrid=SC.GridView.extend({contentBinding:"EurekaJView.chartGridController.arrangedObjects",selectOnMouseDown:NO,exampleView:EurekaJView.ChartView,recordType:EurekaJView.ChartGridModel,itemsPerRow:1,isSelectable:NO,layoutForContentIndex:function(h){var d=this.get("clippingFrame").height;var e=(d/this.get("content").get("length"));SC.Logger.log("frameHeight: "+d+" content.length: "+this.get("content").get("length")+" rowHeight: "+e);var a=this.get("clippingFrame").width;var b=this.get("itemsPerRow");var f=Math.floor(a/b);var g=Math.floor(h/b);var c=h-(b*g);return{left:c*f,top:g*e,height:e,width:f}}});EurekaJView.HistoricalStatisticsOptionsView=SC.View.extend({defaultResponder:EurekaJView,childViews:"chartOptionsHeadlineLabelView fromLabelView chartTimezoneLabelView chartTimezoneFieldView fromTextFieldView selectFromButtonView toLabelView toTextFieldView selectToButtonView chartResolutionLabelView chartResolutionFieldView applyHistoricalChangesButtonView ".w(),chartOptionsHeadlineLabelView:SC.LabelView.design({layout:{centerY:0,centerX:0,height:30,top:15,left:10,right:10},controlSize:SC.REGULAR_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,textAlign:SC.ALIGN_CENTER,value:"HISTORICAL CHART"}).classNames(["greylabel","underlined"]),chartTimezoneLabelView:SC.LabelView.design({layout:{left:5,height:30,top:45,width:60},controlSize:SC.NORMAL_CONTROL_SIZE,textAlign:SC.ALIGN_LEFT,value:"Timezone: "}).classNames("blacklabel"),chartTimezoneFieldView:SC.SelectFieldView.design({layout:{left:70,height:30,top:45,right:10},disableSort:YES,objectsBinding:"EurekaJView.chartGridController.timezones",nameKey:"timezoneName",valueKey:"timezoneValue",acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),valueBinding:"EurekaJView.chartGridController.selectedTimeZoneOffset"}),fromLabelView:SC.LabelView.design({layout:{left:5,height:17,bottom:100,width:40},controlSize:SC.NORMAL_CONTROL_SIZE,textAlign:SC.ALIGN_LEFT,value:"From: "}).classNames("blacklabel"),fromTextFieldView:SC.TextFieldView.design({layout:{bottom:100,height:17,centerY:0,right:30,left:50},valueBinding:"EurekaJView.chartGridController.selectedChartFromString"}).classNames("smallTextfield"),selectFromButtonView:SC.ImageView.design(SCUI.SimpleButton,{layout:{bottom:101,height:16,centerY:0,right:10,width:16},value:"/static/EurekaJView/en/eurekajview/source/resources/images/ej_select_calenar_icon_16.png",toolTip:"Select From Date"}),toLabelView:SC.LabelView.design({layout:{left:5,height:17,bottom:70,width:40},controlSize:SC.NORMAL_CONTROL_SIZE,textAlign:SC.ALIGN_LEFT,value:"To: "}).classNames("blacklabel"),toTextFieldView:SC.TextFieldView.design({layout:{bottom:70,height:17,centerY:0,right:30,left:50},valueBinding:"EurekaJView.chartGridController.selectedChartToString"}).classNames("smallTextfield"),selectToButtonView:SC.ImageView.design(SCUI.SimpleButton,{layout:{bottom:70,height:16,centerY:0,right:10,width:16},value:"/static/EurekaJView/en/eurekajview/source/resources/images/ej_select_calenar_icon_16.png",toolTip:"Select From Date"}),chartResolutionLabelView:SC.LabelView.design({layout:{left:5,height:17,bottom:35,width:65},controlSize:SC.NORMAL_CONTROL_SIZE,textAlign:SC.ALIGN_LEFT,value:"Resolution: "}).classNames("blacklabel"),chartResolutionFieldView:SC.SelectFieldView.design({layout:{bottom:35,height:30,left:70,right:5},disableSort:YES,objects:[{chartResolutionName:"15 seconds",chartResolutionValue:15},{chartResolutionName:"30 seconds",chartResolutionValue:30},{chartResolutionName:"45 seconds",chartResolutionValue:45},{chartResolutionName:"1 minute",chartResolutionValue:60},{chartResolutionName:"3 minutes",chartResolutionValue:180},{chartResolutionName:"10 minutes",chartResolutionValue:600},{chartResolutionName:"20 minutes",chartResolutionValue:1200},{chartResolutionName:"40 minutes",chartResolutionValue:2400}],nameKey:"chartResolutionName",valueKey:"chartResolutionValue",acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),valueBinding:"EurekaJView.chartGridController.selectedChartResolution"}),applyHistoricalChangesButtonView:SC.ButtonView.extend({layout:{bottom:5,height:30,left:70,right:5},title:"Apply Changes",action:"EurekaJView.applyHistoricalChanges"})});sc_require("views/calendar");EurekaJView.InformationPanelView=SC.View.extend({defaultResponder:EurekaJView,childViews:"informationPanelTabView triggeredAlertHeadlineLabelView triggeredAlertScrollView".w(),isVisible:NO,informationPanelTabView:SC.TabView.design({layout:{top:0,height:200,left:5,right:5},nowShowing:"EurekaJView.LiveStatisticsOptionsView",itemTitleKey:"title",itemValueKey:"value",items:[{action:"testAction",title:"Live",value:"EurekaJView.LiveStatisticsOptionsView"},{action:"testAction",title:"Historical",value:"EurekaJView.HistoricalStatisticsOptionsView"}]}),triggeredAlertHeadlineLabelView:SC.LabelView.design({layout:{centerY:0,centerX:0,height:30,top:210,left:5,right:5},controlSize:SC.REGULAR_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,textAlign:SC.ALIGN_CENTER,value:"TRIGGERED ALERTS"}).classNames(["greylabel","underlined"]),triggeredAlertScrollView:SC.ScrollView.design({layout:{top:230,bottom:25,left:5,right:5},contentView:SC.TableView.design({layout:{width:450},exampleView:SC.TableRowView,recordType:EurekaJView.TriggeredAlertModel,contentBinding:"EurekaJView.triggeredAlertListController.arrangedObjects",columns:[SC.TableColumn.create({key:"formattedTriggeredDate",label:"Triggered Date",width:120}),SC.TableColumn.create({key:"alertType",label:"Alert Type",width:75}),SC.TableColumn.create({key:"triggeredValue",label:"Triggered Value",width:75}),SC.TableColumn.create({key:"alertName",label:"Alert Name",width:75})]})})});EurekaJView.LiveStatisticsOptionsView=SC.View.extend({defaultResponder:EurekaJView,childViews:"timePeriodContainerView".w(),childViews:"chartOptionsHeadlineLabelView chartTimezoneLabelView chartTimezoneFieldView chartOptionsLabelView chartTimespanFieldView chartResolutionLabelView chartResolutionFieldView".w(),chartOptionsHeadlineLabelView:SC.LabelView.design({layout:{centerY:0,centerX:0,height:30,top:15,left:10,right:10},controlSize:SC.REGULAR_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,textAlign:SC.ALIGN_CENTER,value:"LIVE CHART"}).classNames(["greylabel","underlined"]),chartTimezoneLabelView:SC.LabelView.design({layout:{left:10,height:30,top:45,width:60},controlSize:SC.NORMAL_CONTROL_SIZE,textAlign:SC.ALIGN_LEFT,value:"Timezone: "}).classNames("blacklabel"),chartTimezoneFieldView:SC.SelectFieldView.design({layout:{left:70,height:30,top:45,right:10},disableSort:YES,objectsBinding:"EurekaJView.chartGridController.timezones",nameKey:"timezoneName",valueKey:"timezoneValue",acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),valueBinding:"EurekaJView.chartGridController.selectedTimeZoneOffset"}),chartOptionsLabelView:SC.LabelView.design({layout:{left:5,height:17,bottom:35,width:65},controlSize:SC.NORMAL_CONTROL_SIZE,textAlign:SC.ALIGN_LEFT,value:"Timespan: "}).classNames("blacklabel"),chartTimespanFieldView:SC.SelectFieldView.design({layout:{bottom:35,height:30,left:70,right:5},disableSort:YES,objects:[{timespanName:"10 minutes",timespanValue:10},{timespanName:"20 minutes",timespanValue:20},{timespanName:"30 minutes",timespanValue:30},{timespanName:"1 hour",timespanValue:60},{timespanName:"2 hours",timespanValue:120},{timespanName:"6 hours",timespanValue:360},{timespanName:"12 hours",timespanValue:720},{timespanName:"24 hours",timespanValue:1440}],nameKey:"timespanName",valueKey:"timespanValue",acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),valueBinding:"EurekaJView.chartGridController.selectedChartTimespan"}),chartResolutionLabelView:SC.LabelView.design({layout:{left:5,height:17,bottom:5,width:65},controlSize:SC.NORMAL_CONTROL_SIZE,textAlign:SC.ALIGN_LEFT,value:"Resolution: "}).classNames("blacklabel"),chartResolutionFieldView:SC.SelectFieldView.design({layout:{bottom:5,height:30,left:70,right:5},disableSort:YES,objects:[{chartResolutionName:"15 seconds",chartResolutionValue:15},{chartResolutionName:"30 seconds",chartResolutionValue:30},{chartResolutionName:"45 seconds",chartResolutionValue:45},{chartResolutionName:"1 minute",chartResolutionValue:60},{chartResolutionName:"3 minutes",chartResolutionValue:180},{chartResolutionName:"10 minutes",chartResolutionValue:600},{chartResolutionName:"20 minutes",chartResolutionValue:1200},{chartResolutionName:"40 minutes",chartResolutionValue:2400}],nameKey:"chartResolutionName",valueKey:"chartResolutionValue",acceptsFirstResponder:function(){return this.get("isEnabled")}.property("isEnabled"),valueBinding:"EurekaJView.chartGridController.selectedChartResolution"})});EurekaJView.InstrumentationGroupListItem=SC.ListItemView.extend({contentCheckboxKeyBinding:".content.checkboxKey",selectedNodes:[]});EurekaJView.InstrumentationGroupsAdministrationView=SC.View.extend({childViews:"newInstrumentationGroupView instrumentationGroupSelectionScrollView deleteAlertButtonView instrumentationGroupContentView".w(),layout:{top:0,left:0,bottom:0,right:0},newInstrumentationGroupView:SC.View.design({childViews:"newInstrumentationGroupTextFieldView newInstrumentationGroupButtonView".w(),layout:{top:20,height:30,left:0,width:200},backgroundColor:"#ffffff",newInstrumentationGroupTextFieldView:SC.TextFieldView.design({layout:{top:2,height:24,centerY:0,width:120,left:2},valueBinding:"EurekaJView.chartGroupsAdminController.newInstrumentationGroupName"}),newInstrumentationGroupButtonView:SC.ButtonView.extend({layout:{left:125,right:2,height:24,centerY:0,top:2,centerY:0},title:"Add",action:"EurekaJView.addnewInstrumentationGroupAction"})}).classNames("thinBlackBorder"),instrumentationGroupSelectionScrollView:SC.ScrollView.design({layout:{top:50,bottom:25,left:0,width:200},hasHorizontalScroller:YES,hasVerticalScroller:YES,contentView:SC.ListView.extend({backgroundColor:"#F0F8FF",contentBinding:"EurekaJView.chartGroupsAdminController.arrangedObjects",selectionBinding:"EurekaJView.chartGroupsAdminController.selection",contentValueKey:"instrumentaionGroupName",selectionDelegate:EurekaJView.chartGroupSelectionDelegate,})}),deleteAlertButtonView:SC.ButtonView.extend({layout:{left:0,width:200,height:24,centerX:0,bottom:0,centerY:0},title:"Delete Selected Chart Group",action:"EurekaJView.deleteSelectedChartGroupAction"}),instrumentationGroupContentView:SC.View.extend({childViews:["instrumentationGroupChartSelectScrollView","addSelectedChartsButtonView","chartGroupSelectionScrollView","saveInstrumentationGroupButtonView"],isVisibleBinding:"EurekaJView.chartGroupsAdminController.showEditInstrumentationGroupView",layout:{top:20,bottom:0,right:0,left:215},instrumentationGroupChartSelectScrollView:SC.ScrollView.design({layout:{left:10,right:20,top:0,height:180},hasHorizontalScroller:YES,hasVerticalScroller:YES,contentView:SC.ListView.extend({allowsMultipleSelection:NO,backgroundColor:"#F0F8FF",contentValueKey:"name",rowHeight:18,isSelectable:YES,contentBinding:"EurekaJView.chartGroupChartsTreeController.arrangedObjects",exampleView:EurekaJView.InstrumentationGroupListItem,recordType:EurekaJView.AdminstrationTreeModel,action:"EurekaJView.addSelectedChartsToChartGroup"})}),addSelectedChartsButtonView:SC.ButtonView.design({layout:{left:10,width:200,top:190,height:25},title:"Add selected charts to group",action:"EurekaJView.addSelectedChartsToChartGroup"}),chartGroupSelectionScrollView:SC.ScrollView.design({layout:{left:10,right:20,top:220,bottom:40},hasHorizontalScroller:YES,hasVerticalScroller:YES,contentView:SC.ListView.extend({allowsMultipleSelection:NO,backgroundColor:"#F0F8FF",contentValueKey:"guiPath",rowHeight:18,canDeleteContent:YES,contentBinding:"EurekaJView.selectedChartGroupChartsController.arrangedObjects",selectionBinding:"EurekaJView.selectedChartGroupChartsController.selection"})}),saveInstrumentationGroupButtonView:SC.ButtonView.design({layout:{right:10,width:300,bottom:10,height:25},title:"Save Changes to all Chart Groups",action:"EurekaJView.saveInformationGroupsAction"})})});EurekaJView.InstrumentationTreeListItem=SC.ListItemView.extend({iconBinding:".content.itemIcon",contentCheckboxKeyBinding:".content.checkboxKey",selectedNodes:[],observeIsSelected:function(){var a=NO;if(this.get("content").get("isSelected")&&this.get("selectedNodes").indexOf(this.get("content"))==-1){this.get("selectedNodes").pushObject(this.get("content"));a=YES}else{if(!this.get("content").get("isSelected")&&this.get("selectedNodes").indexOf(this.get("content"))!=-1){this.get("selectedNodes").removeObject(this.get("content"));a=YES}}if(a){this.showSelectedCharts()}}.observes(".content.isSelected"),showSelectedCharts:function(){var a=SC.SelectionSet.create();this.get("selectedNodes").forEach(function(c){var b=c.get("chartGrid");if(b){a.addObjects(b)}},this);EurekaJView.chartGridController.set("content",a)}});EurekaJView.InstrumentationTreeView=SC.View.extend({childViews:"instrumentationTreeLabelView instrumentationTreeScrollView".w(),instrumentationTreeLabelView:SC.LabelView.design({layout:{centerY:0,height:30,top:5,left:10},controlSize:SC.REGULAR_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,textAlign:SC.ALIGN_LEFT,value:"INSTRUMENTATION MENU"}).classNames(["greylabel","underlined"]),instrumentationTreeScrollView:SC.ScrollView.extend({layout:{top:25,bottom:0,left:2,width:299},canScrollHorizontally:YES,hasHorizontalScroller:YES,contentView:SC.ListView.extend({layout:{width:450},backgroundColor:"#F0F8FF",contentValueKey:"name",rowHeight:18,borderStyle:SC.BORDER_NONE,isSelectable:NO,contentBinding:"EurekaJView.InstrumentationTreeController.arrangedObjects",exampleView:EurekaJView.InstrumentationTreeListItem,recordType:EurekaJView.InstrumentationTreeModel})})}).classNames(["thinBlackRightborder"]);EurekaJView.TopView=SC.View.extend({childViews:"logoView administrationButtonView administrationLabelView".w(),logoView:SC.ImageView.design({layout:{left:10,width:430,height:60,top:5},value:"/static/EurekaJView/en/eurekajview/source/resources/images/eurekaj_logo_w_text_60x60.png",toolTip:"EurekaJ Profiler",}),administrationButtonView:SC.ImageView.design(SCUI.SimpleButton,{layout:{right:25,width:49,height:49,top:5},value:"/static/EurekaJView/en/eurekajview/source/resources/images/ej_tools_49.png",toolTip:"Administration",action:"showAdministrationPaneAction",isVisible:false}),administrationLabelView:SC.LabelView.design(SCUI.SimpleButton,{layout:{right:10,width:100,height:25,top:55},value:"Administration",textAlign:SC.ALIGN_RIGHT,action:"showAdministrationPaneAction",fontWeight:SC.BOLD_WEIGHT,isVisible:false}).classNames("greylabel")});sc_require("views/informationPanel/information_panel");sc_require("views/chart/chart_view");sc_require("views/administration/administration_pane");sc_require("views/instrumentationTree/instrumentation_tree_list_item");EurekaJView.mainPage=SC.Page.design({instrumentationTreeView:SC.outlet("mainPane.instrumentationTreeView"),instrumentationTreeScrollView:SC.outlet("mainPane.instrumentationTreeView"),topView:SC.outlet("mainPane.topView"),flotChartGrid:SC.outlet("mainPane.flotChartGrid"),informationPanelView:SC.outlet("mainPane.informationPanelView"),mainPane:SC.MainPane.design({defaultResponder:EurekaJView,childViews:"flotChartGrid topView instrumentationTreeView informationPanelView".w(),topView:EurekaJView.TopView.design({isVisible:NO,layout:{top:0,left:0,right:0,height:77},anchorLocation:SC.ANCHOR_TOP}).classNames("toolbarGradient"),flotChartGrid:EurekaJView.ChartGrid.design({isVisible:NO,layout:{top:77,right:200,bottom:0,left:306}}).classNames(["whiteBackground"]),informationPanelView:EurekaJView.InformationPanelView.design({layout:{top:77,bottom:0,right:0,width:199},anchorLocation:SC.ANCHOR_TOP,backgroundColor:"#F0F8FF"}).classNames(["thinBlackLeftborder"]),instrumentationTreeView:EurekaJView.InstrumentationTreeView.design({isVisible:NO,layout:{top:77,bottom:0,left:0,width:305},anchorLocation:SC.ANCHOR_TOP,backgroundColor:"#F0F8FF"}).classNames("thinBlackRightborder")}),adminPanelView:EurekaJView.AdministrationPaneView.design({layout:{width:700,centerX:0,height:500}})});EurekaJView.main=function main(){EurekaJView.getPath("mainPage.mainPane").append();EurekaJView.statechart.initStatechart()};function main(){EurekaJView.main()};